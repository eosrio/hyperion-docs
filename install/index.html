


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../img/logo.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.0.1">
    
    
      
        <title>Install - Hyperion History Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c3000690.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.4444686e.min.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Hyperion History Docs" class="md-header-nav__button md-logo" aria-label="Hyperion History Docs">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Hyperion History Docs
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Install
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/eosrio/hyperion-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eosrio/hyperion-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hyperion History Docs" class="md-nav__button md-logo" aria-label="Hyperion History Docs">
      
  <img src="../img/logo.png" alt="logo">

    </a>
    Hyperion History Docs
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/eosrio/hyperion-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    eosrio/hyperion-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Providers
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Providers" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Providers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Install
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Install" class="md-nav__link md-nav__link--active">
      Install
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elasticsearch-installation" class="md-nav__link">
    Elasticsearch Installation
  </a>
  
    <nav class="md-nav" aria-label="Elasticsearch Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-edit-etcelasticsearchelasticsearchyml" class="md-nav__link">
    1. Edit /etc/elasticsearch/elasticsearch.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-etcelasticsearchjvmoptions" class="md-nav__link">
    2. Edit /etc/elasticsearch/jvm.options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-allow-memlock" class="md-nav__link">
    3. Allow memlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-start-elasticsearch-and-check-the-logs-verify-if-the-memory-lock-was-successful" class="md-nav__link">
    4. Start elasticsearch and check the logs (verify if the memory lock was successful)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-test-the-rest-api" class="md-nav__link">
    5. Test the REST API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq-installation" class="md-nav__link">
    RabbitMQ Installation
  </a>
  
    <nav class="md-nav" aria-label="RabbitMQ Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-enable-the-webui" class="md-nav__link">
    1. Enable the WebUI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-vhost" class="md-nav__link">
    2. Add vhost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-a-user-and-password" class="md-nav__link">
    2. Create a user and password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-set-the-user-as-administrator" class="md-nav__link">
    3. Set the user as administrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-the-user-permissions-to-the-vhost" class="md-nav__link">
    4. Set the user permissions to the vhost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-check-access-to-the-webui" class="md-nav__link">
    5. Check access to the WebUI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis-installation" class="md-nav__link">
    Redis Installation
  </a>
  
    <nav class="md-nav" aria-label="Redis Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install" class="md-nav__link">
    1. Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-etcredisredisconf" class="md-nav__link">
    2. Edit /etc/redis/redis.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-change-supervised-to-systemd" class="md-nav__link">
    3. Change supervised to systemd
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    NodeJS
  </a>
  
    <nav class="md-nav" aria-label="NodeJS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-the-nodejs-source" class="md-nav__link">
    1. Install the nodejs source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install" class="md-nav__link">
    2. Install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pm2" class="md-nav__link">
    PM2
  </a>
  
    <nav class="md-nav" aria-label="PM2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install_1" class="md-nav__link">
    1. Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-run" class="md-nav__link">
    2. Run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeos-configini" class="md-nav__link">
    nodeos config.ini
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hyperion" class="md-nav__link">
    Hyperion
  </a>
  
    <nav class="md-nav" aria-label="Hyperion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-install-packages" class="md-nav__link">
    1. Clone &amp; Install packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-configs" class="md-nav__link">
    2. Edit configs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-and-stop" class="md-nav__link">
    Start and Stop
  </a>
  
    <nav class="md-nav" aria-label="Start and Stop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-run-stop-script" class="md-nav__link">
    Using run / stop script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    API Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connections/" title="Connections" class="md-nav__link">
      Connections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../chain/" title="Chain Configuration" class="md-nav__link">
      Chain Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ecosystem/" title="Ecosystem" class="md-nav__link">
      Ecosystem
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Users / Developers
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Users / Developers" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Users / Developers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../howtouse/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stream_client/" title="Stream Client" class="md-nav__link">
      Stream Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../endpoint/" title="Endpoint List" class="md-nav__link">
      Endpoint List
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      API Reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="API Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../v2/" title="v2" class="md-nav__link">
      v2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../v1/" title="v1 compatible" class="md-nav__link">
      v1 compatible
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Troubleshooting
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Troubleshooting" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../kibana/" title="Kibana" class="md-nav__link">
      Kibana
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rabbit/" title="RabbitMQ" class="md-nav__link">
      RabbitMQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
    <nav class="md-nav" aria-label="Dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elasticsearch-installation" class="md-nav__link">
    Elasticsearch Installation
  </a>
  
    <nav class="md-nav" aria-label="Elasticsearch Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-edit-etcelasticsearchelasticsearchyml" class="md-nav__link">
    1. Edit /etc/elasticsearch/elasticsearch.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-etcelasticsearchjvmoptions" class="md-nav__link">
    2. Edit /etc/elasticsearch/jvm.options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-allow-memlock" class="md-nav__link">
    3. Allow memlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-start-elasticsearch-and-check-the-logs-verify-if-the-memory-lock-was-successful" class="md-nav__link">
    4. Start elasticsearch and check the logs (verify if the memory lock was successful)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-test-the-rest-api" class="md-nav__link">
    5. Test the REST API
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq-installation" class="md-nav__link">
    RabbitMQ Installation
  </a>
  
    <nav class="md-nav" aria-label="RabbitMQ Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-enable-the-webui" class="md-nav__link">
    1. Enable the WebUI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-vhost" class="md-nav__link">
    2. Add vhost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-create-a-user-and-password" class="md-nav__link">
    2. Create a user and password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-set-the-user-as-administrator" class="md-nav__link">
    3. Set the user as administrator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-set-the-user-permissions-to-the-vhost" class="md-nav__link">
    4. Set the user permissions to the vhost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-check-access-to-the-webui" class="md-nav__link">
    5. Check access to the WebUI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redis-installation" class="md-nav__link">
    Redis Installation
  </a>
  
    <nav class="md-nav" aria-label="Redis Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install" class="md-nav__link">
    1. Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-etcredisredisconf" class="md-nav__link">
    2. Edit /etc/redis/redis.conf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-change-supervised-to-systemd" class="md-nav__link">
    3. Change supervised to systemd
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodejs" class="md-nav__link">
    NodeJS
  </a>
  
    <nav class="md-nav" aria-label="NodeJS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-the-nodejs-source" class="md-nav__link">
    1. Install the nodejs source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-install" class="md-nav__link">
    2. Install
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pm2" class="md-nav__link">
    PM2
  </a>
  
    <nav class="md-nav" aria-label="PM2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install_1" class="md-nav__link">
    1. Install
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-run" class="md-nav__link">
    2. Run
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeos-configini" class="md-nav__link">
    nodeos config.ini
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hyperion" class="md-nav__link">
    Hyperion
  </a>
  
    <nav class="md-nav" aria-label="Hyperion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-clone-install-packages" class="md-nav__link">
    1. Clone &amp; Install packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-edit-configs" class="md-nav__link">
    2. Edit configs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-and-stop" class="md-nav__link">
    Start and Stop
  </a>
  
    <nav class="md-nav" aria-label="Start and Stop">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-run-stop-script" class="md-nav__link">
    Using run / stop script
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commands" class="md-nav__link">
    Commands
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-reference" class="md-nav__link">
    API Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/eosrio/hyperion-docs/edit/master/docs/install.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="getting-started">Getting Started</h1>
<h2 id="installation">Installation</h2>
<h3 id="dependencies">Dependencies</h3>
<p>This setup has only been tested with Ubuntu 18.04, but should work with other OS versions too</p>
<ul>
<li><a href="https://www.elastic.co/downloads/elasticsearch">Elasticsearch 7.4.X</a></li>
<li><a href="https://www.rabbitmq.com/install-debian.html">RabbitMQ</a></li>
<li><a href="https://redis.io/topics/quickstart">Redis</a></li>
<li><a href="https://github.com/nodesource/distributions/blob/master/README.md#installation-instructions">Node.js v13</a></li>
<li><a href="http://pm2.keymetrics.io/docs/usage/quick-start/">PM2</a></li>
<li>Nodeos 1.8+ w/ state_history_plugin and chain_api_plugin</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The indexer requires redis, pm2 and node.js to be on the same machine. Other dependencies might be installed on other machines, preferably over a very high speed and low latency network. Indexing speed will vary greatly depending on this configuration.</p>
</div>
<h4 id="elasticsearch-installation">Elasticsearch Installation</h4>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Follow the detailed installation instructions on the official <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/deb.html">elasticsearch documentation</a></p>
</div>
<h5 id="1-edit-etcelasticsearchelasticsearchyml">1. Edit <code>/etc/elasticsearch/elasticsearch.yml</code></h5>
<pre><code>cluster.name: myCluster
bootstrap.memory_lock: true
</code></pre>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Setting <code>bootstrap.memory_lock: true</code> will use all your RAM on startup. This is optional.
This also might cause the JVM or shell session to exit if it tries to allocate more memory than is available!</p>
</div>
<p>After starting Elasticsearch, you can see whether this setting was applied successfully by checking the value of mlockall in the output from this request:</p>
<pre><code>GET _nodes?filter_path=**.mlockall
</code></pre>

<h5 id="2-edit-etcelasticsearchjvmoptions">2. Edit <code>/etc/elasticsearch/jvm.options</code></h5>
<pre><code># Set your heap size, avoid allocating more than 31GB, even if you have enought RAM.
# Test on your specific machine by changing -Xmx32g in the following command:
# java -Xmx32g -XX:+UseCompressedOops -XX:+PrintFlagsFinal Oops | grep Oops
-Xms16g
-Xmx16g
</code></pre>

<h5 id="3-allow-memlock">3. Allow memlock</h5>
<p>run <code>sudo systemctl edit elasticsearch</code> and add the following lines</p>
<pre><code>[Service]
LimitMEMLOCK=infinity
</code></pre>

<h5 id="4-start-elasticsearch-and-check-the-logs-verify-if-the-memory-lock-was-successful">4. Start elasticsearch and check the logs (verify if the memory lock was successful)</h5>
<pre><code class="bash">sudo service elasticsearch start
sudo less /var/log/elasticsearch/myCluster.log
sudo systemctl enable elasticsearch
</code></pre>

<h5 id="5-test-the-rest-api">5. Test the REST API</h5>
<p><code>curl http://localhost:9200</code></p>
<pre><code class="json">{
  &quot;name&quot; : &quot;ip-172-31-5-121&quot;,
  &quot;cluster_name&quot; : &quot;hyperion&quot;,
  &quot;cluster_uuid&quot; : &quot;....&quot;,
  &quot;version&quot; : {
    &quot;number&quot; : &quot;7.1.0&quot;,
    &quot;build_flavor&quot; : &quot;default&quot;,
    &quot;build_type&quot; : &quot;deb&quot;,
    &quot;build_hash&quot; : &quot;606a173&quot;,
    &quot;build_date&quot; : &quot;2019-05-16T00:43:15.323135Z&quot;,
    &quot;build_snapshot&quot; : false,
    &quot;lucene_version&quot; : &quot;8.0.0&quot;,
    &quot;minimum_wire_compatibility_version&quot; : &quot;6.8.0&quot;,
    &quot;minimum_index_compatibility_version&quot; : &quot;6.0.0-beta1&quot;
  },
  &quot;tagline&quot; : &quot;You Know, for Search&quot;
}
</code></pre>

<p>The Default user and password is:</p>
<pre><code>user: elastic
password: changeme
</code></pre>

<p>You can change the password via the API, like this:</p>
<pre><code>curl -X POST &quot;localhost:9200/_security/user/elastic/_password?pretty&quot; -H 'Content-Type: application/json' -d'
{
  &quot;password&quot; : &quot;new_password&quot;
}'
</code></pre>

<h4 id="rabbitmq-installation">RabbitMQ Installation</h4>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Follow the detailed installation instructions on the official <a href="https://www.rabbitmq.com/install-debian.html#installation-methods">RabbitMQ documentation</a></p>
</div>
<h5 id="1-enable-the-webui">1. Enable the WebUI</h5>
<pre><code class="bash">sudo rabbitmq-plugins enable rabbitmq_management
</code></pre>

<h5 id="2-add-vhost">2. Add vhost</h5>
<pre><code class="bash">sudo rabbitmqctl add_vhost /hyperion
</code></pre>

<h5 id="2-create-a-user-and-password">2. Create a user and password</h5>
<pre><code class="bash">sudo rabbitmqctl add_user {my_user} {my_password}
</code></pre>

<h5 id="3-set-the-user-as-administrator">3. Set the user as administrator</h5>
<pre><code class="bash">sudo rabbitmqctl set_user_tags {my_user} administrator
</code></pre>

<h5 id="4-set-the-user-permissions-to-the-vhost">4. Set the user permissions to the vhost</h5>
<pre><code class="bash">sudo rabbitmqctl set_permissions -p /hyperion {my_user} &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;
</code></pre>

<h5 id="5-check-access-to-the-webui">5. Check access to the WebUI</h5>
<p><a href="http://localhost:15672">http://localhost:15672</a></p>
<h4 id="redis-installation">Redis Installation</h4>
<h5 id="1-install">1. Install</h5>
<pre><code class="bash">sudo apt install redis-server
</code></pre>

<h5 id="2-edit-etcredisredisconf">2. Edit <code>/etc/redis/redis.conf</code></h5>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, redis binds to the localhost address. You need to edit
the config file if you want to listen to other network.</p>
</div>
<h5 id="3-change-supervised-to-systemd">3. Change supervised to <code>systemd</code></h5>
<pre><code class="bash">sudo systemctl restart redis.service
</code></pre>

<h4 id="nodejs">NodeJS</h4>
<h5 id="1-install-the-nodejs-source">1. Install the nodejs source</h5>
<pre><code class="bash">curl -sL https://deb.nodesource.com/setup_13.x | sudo -E bash -
</code></pre>

<h5 id="2-install">2. Install</h5>
<pre><code class="bash">sudo apt-get install -y nodejs
</code></pre>

<h4 id="pm2">PM2</h4>
<h5 id="1-install_1">1. Install</h5>
<pre><code class="bash">sudo npm install pm2@latest -g
</code></pre>

<h5 id="2-run">2. Run</h5>
<pre><code class="bash">sudo pm2 startup
</code></pre>

<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Follow the detailed installation instructions on the <a href="https://www.elastic.co/downloads/kibana">official documentation</a></p>
</div>
<h4 id="nodeos-configini">nodeos config.ini</h4>
<pre><code>state-history-dir = &quot;state-history&quot;
trace-history = true
chain-state-history = true
state-history-endpoint = 127.0.0.1:8080
plugin = eosio::state_history_plugin
</code></pre>

<h4 id="hyperion">Hyperion</h4>
<h5 id="1-clone-install-packages">1. Clone &amp; Install packages</h5>
<pre><code class="bash">git clone https://github.com/eosrio/Hyperion-History-API.git
cd Hyperion-History-API
npm install
</code></pre>

<h5 id="2-edit-configs">2. Edit configs</h5>
<pre><code>cp example-ecosystem.config.js ecosystem.config.js
nano ecosystem.config.js

# Enter connection details here (chain name must match on the ecosystem file)
cp example-connections.json connections.json
nano connections.json
</code></pre>

<p>connections.json Reference</p>
<pre><code class="json">{
   &quot;amqp&quot;:{
      &quot;host&quot;:&quot;127.0.0.1:5672&quot;,
      &quot;api&quot;:&quot;127.0.0.1:15672&quot;,
      &quot;user&quot;:&quot;my_user&quot;,
      &quot;pass&quot;:&quot;my_password&quot;,
      &quot;vhost&quot;:&quot;hyperion&quot;
   },
   &quot;elasticsearch&quot;:{
      &quot;host&quot;:&quot;127.0.0.1:9200&quot;,
      &quot;ingest_nodes&quot;:[
         &quot;127.0.0.1:9200&quot;
      ],
      &quot;user&quot;:&quot;&quot;,
      &quot;pass&quot;:&quot;&quot;
   },
   &quot;redis&quot;:{
      &quot;host&quot;:&quot;127.0.0.1&quot;,
      &quot;port&quot;:&quot;6379&quot;
   },
   &quot;chains&quot;:{
      &quot;eos&quot;:{
         &quot;name&quot;:&quot;EOS Mainnet&quot;,
         &quot;chain_id&quot;:&quot;aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906&quot;,
         &quot;http&quot;:&quot;http://127.0.0.1:8888&quot;,
         &quot;ship&quot;:&quot;ws://127.0.0.1:8080&quot;,
         &quot;WS_ROUTER_PORT&quot;:7001
      }
   }
}
</code></pre>

<p>For more details, refer to the <a href="../connections/">connections section</a></p>
<p>ecosystem.config.js Reference</p>
<pre><code class="javascript">module.exports = {
    apps: [
        addIndexer('eos'),
        addApiServer('eos', 1)
    ]
};
</code></pre>

<p>For more details, refer to the <a href="../ecosystem/">ecosystem section</a></p>
<h3 id="setup">Setup</h3>
<p>Explicar as configurações iniciais.</p>
<p>Modificar os example.ecosystems...etc</p>
<h3 id="start-and-stop">Start and Stop</h3>
<p>We provide scripts to make simple the process of start and stop you Hyperion Indexer or API instance.
But, you can also do it manually if you prefer. This section will cover both ways.</p>
<h4 id="using-run-stop-script">Using run / stop script</h4>
<p>You can use <code>run</code> script to start the Indexer or the API.</p>
<pre><code>./run.sh chain-indexer

./run.sh chain-api
</code></pre>

<p>Examples:
Start indexing EOS mainnet</p>
<pre><code>./run.sh eos-indexer
</code></pre>

<p>Start EOS API</p>
<pre><code>./run.sh eos-api
</code></pre>

<p>Remember that the chain name was previously defined on the <a href="#hyperion">Hyperion section</a>.</p>
<p>The <code>stop</code> script follows the same pattern of the <code>run</code> script:</p>
<pre><code>./stop.sh chain-indexer

./stop.sh chain-api
</code></pre>

<p>Example:
Stop the EOS mainnet indexer</p>
<pre><code>./stop.sh eos-indexer
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Stop script wont stop Hyperion Indexer immediately, it will first flush the queues.
This operation could take some time.
If you want to stop immediately, you need to run the "Force stop command"</p>
</div>
<h4 id="commands">Commands</h4>
<p>Start indexing</p>
<pre><code>pm2 start --only chain-indexer --update-env
pm2 logs chain-indexer
</code></pre>

<p>Stop reading and wait for queues to flush</p>
<pre><code>pm2 trigger chain-indexer stop
</code></pre>

<p>Force stop</p>
<pre><code>pm2 stop chain-indexer
</code></pre>

<p>Starting the API node</p>
<pre><code>pm2 start --only chain-api --update-env
pm2 logs chain-api
</code></pre>

<h3 id="api-reference">API Reference</h3>
<p>API Reference: <a href="../v2/">API section</a></p>
<p>Example: <a href="https://wax.hyperion.eosrio.io/v2/docs">OpenAPI Docs</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../quickstart/" title="Quick Start" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quick Start
              </div>
            </div>
          </a>
        
        
          <a href="../docker/" title="Docker" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Docker
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.f45d2d8d.min.js"></script>
      <script src="../assets/javascripts/bundle.74d0b805.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>